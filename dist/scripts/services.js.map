{"version":3,"sources":["services.js"],"names":["httpFn","$inject","alertFn","angular","module","service","totalsFn","$http","simplefetch","url","get","then","res","data","catch","err","masterArr","totalWt","matlCost","laborCost","totalCost","lmtrs","collateThisComponent","obj","math","round","push","console","log","removeThisComponent","_","remove","item","id","getTotal","$uibModal","$rootScope","show","controller","as","template","open","controllerAs","templateUrl","showprogress","progress"],"mappings":"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","file":"services.js","sourcesContent":["angular\r\n\t.module('estimator')\r\n\t.service('http', httpFn)\r\n\t.service('totals', totalsFn)\r\n\t.service('modal', alertFn);\r\n\r\nfunction httpFn($http){\r\n\t\"ngInject\";\r\n\treturn {\r\n\t\tsimplefetch: function(url) { \r\n\t\t\treturn $http.get(url).then((res) => res.data).catch((err) => err);\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction totalsFn(){\r\n\tthis.masterArr = [];\r\n\r\n\tthis.totalWt = 0;\r\n\tthis.matlCost = 0;\r\n\tthis.laborCost = 0; \r\n\tthis.totalCost = 0;\r\n\t// this.wtPerPc = 0;\r\n\tthis.lmtrs = 0;\r\n\tthis.collateThisComponent = (obj) => {\r\n\t\tthis.totalWt += math.round(obj.totalWt, 4);\r\n\t\tthis.matlCost += math.round(obj.matlCost, 4);\r\n\t\tthis.laborCost += math.round(obj.laborCost, 4);\r\n\t\tthis.totalCost += math.round(obj.totalCost, 4);\r\n\t\tif(obj.lmtrs) this.lmtrs += math.round(obj.lmtrs, 4);\r\n\t\tthis.masterArr.push(obj);\r\n\r\n\t\tconsole.log(this.masterArr);\r\n\r\n\t\treturn {totalWt: this.totalWt, matlCost: this.matlCost, laborCost: this.laborCost, totalCost: this.totalCost, lmtrs: this.lmtrs};\r\n\t};\r\n\tthis.removeThisComponent = (obj) => {\r\n\t\tthis.totalWt -= math.round(obj.totalWt, 4);\r\n\t\tthis.matlCost -= math.round(obj.matlCost, 4);\r\n\t\tthis.laborCost -= math.round(obj.laborCost, 4);\r\n\t\tthis.totalCost -= math.round(obj.totalCost, 4);\r\n\t\tif(obj.lmtrs) this.lmtrs -= math.round(obj.lmtrs, 4);\r\n\t\t_.remove(this.masterArr, (item) => {\r\n\t\t\treturn obj.id===item.id;\r\n\t\t});\r\n\r\n\t\tconsole.log(this.masterArr);\r\n\r\n\t\treturn {totalWt: this.totalWt, matlCost: this.matlCost, laborCost: this.laborCost, totalCost: this.totalCost, lmtrs: this.lmtrs};\r\n\t};\r\n\tthis.getTotal = () => { \r\n\t\treturn {totalWt: this.totalWt, matlCost: this.matlCost, laborCost: this.laborCost, totalCost: this.totalCost, lmtrs: this.lmtrs};\r\n\t};\r\n}\r\n\r\nfunction alertFn($uibModal, $rootScope){\r\n\t\"ngInject\";\r\n        \r\n    function show(controller, as, template){\r\n\r\n        if(!template){\r\n            template = \"scripts/components/home/modaldefault.html\";\r\n        }\r\n        \r\n        console.log(controller);\r\n        return $uibModal.open({\r\n            controller: controller,\r\n            controllerAs: as,\r\n            templateUrl: template\r\n        });\r\n    }\r\n    \r\n    function showprogress(){\r\n        \r\n    }\r\n    \r\n    return {\r\n        show: show,\r\n        progress: showprogress\r\n    };\r\n}"]}